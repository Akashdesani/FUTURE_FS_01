"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6771],{75283:function(e,t,a){a.d(t,{Z:function(){return o}});var r=a(91373);let o=(0,r.Z)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},35162:function(e,t,a){a.d(t,{Z:function(){return o}});var r=a(91373);let o=(0,r.Z)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]])},49461:function(e,t,a){a.d(t,{Z:function(){return o}});var r=a(91373);let o=(0,r.Z)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},81285:function(e,t,a){a.d(t,{Z:function(){return C}});var r=a(85893),o=a(67294),i=a(91373);let l=(0,i.Z)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),n=(0,i.Z)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);var s=a(35162),c=a(41352),d=a(75283),p=a(13114),g=a(39200),u=a(48842),h=a(64712);let m={dark:{label:"text-white",description:"text-gray-400",tabBg:"bg-gray-800/50",tabBorder:"border-gray-700",tabActive:"bg-gradient-to-r from-pink-500 to-purple-600 text-white shadow-lg",tabInactive:"text-gray-400 hover:text-white",uploadBorder:"border-gray-700",uploadBg:"bg-gray-900/30",uploadBorderActive:"border-pink-500 bg-pink-500/10",uploadBorderHover:"hover:border-pink-500/50 hover:bg-pink-500/5",iconPrimary:"text-pink-400",iconSecondary:"text-purple-400",text:"text-white",textMuted:"text-gray-500",inputBg:"bg-black/30",inputBorder:"border-gray-700",inputText:"text-white",inputPlaceholder:"placeholder-gray-500",buttonGradient:"bg-gradient-to-r from-pink-500 to-purple-600",buttonText:"text-white",buttonShadow:"hover:shadow-pink-500/50",buttonDisabled:"bg-gray-800 text-gray-500",imageBorder:"border-gray-700",imageRemoveBg:"bg-gray-900/90",imageRemoveBorder:"border-gray-700",addMoreBorder:"border-gray-700",addMoreBg:"bg-gray-900/50",addMoreHover:"hover:border-pink-500 hover:bg-pink-500/5",addMoreIcon:"text-gray-400"},light:{label:"text-gray-900",description:"text-gray-600",tabBg:"bg-gray-100",tabBorder:"border-gray-300",tabActive:"bg-gradient-to-r from-pink-500 to-purple-600 text-white shadow-lg",tabInactive:"text-gray-600 hover:text-gray-900",uploadBorder:"border-gray-300",uploadBg:"bg-gray-50",uploadBorderActive:"border-blue-500 bg-blue-50",uploadBorderHover:"hover:border-blue-400 hover:bg-blue-50/50",iconPrimary:"text-blue-500",iconSecondary:"text-purple-500",text:"text-gray-900",textMuted:"text-gray-400",inputBg:"bg-white",inputBorder:"border-gray-300",inputText:"text-gray-900",inputPlaceholder:"placeholder-gray-400",buttonGradient:"bg-gradient-to-r from-pink-500 to-purple-600",buttonText:"text-white",buttonShadow:"hover:shadow-blue-500/30",buttonDisabled:"bg-gray-300 text-gray-500",imageBorder:"border-gray-300",imageRemoveBg:"bg-white/95",imageRemoveBorder:"border-gray-300",addMoreBorder:"border-gray-300",addMoreBg:"bg-gray-50",addMoreHover:"hover:border-blue-400 hover:bg-blue-50",addMoreIcon:"text-gray-500"}};function x(e){let{label:t,description:a,onImageUpload:i,onUrlSubmit:x,image:b,imageUrl:f,onRemove:y,isPrimary:v=!1,theme:w="dark",showTemplate:j=!1,onTemplateSelect:k,selectedTemplateId:N="",multipleFiles:B=[],multipleUrls:E=[],onRemoveFile:C,onRemoveUrl:_}=e,M=m[w]||m.dark,[P,I]=(0,o.useState)(!1),[S,L]=(0,o.useState)("upload"),[R,A]=(0,o.useState)(""),Z=(0,o.useRef)(null),[T,H]=(0,o.useState)([]),[G,U]=(0,o.useState)(!1),D=B.length>0||E.length>0,F=(0,o.useCallback)(async()=>{if(j)try{var e;U(!0);let t=await u.Z.get("/v2/image/generated/list",{params:{limit:50,skip:0,template:!0}});(null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.success)&&H(t.data.images||[])}catch(e){console.error("Failed to fetch template images:",e)}finally{U(!1)}},[j]);(0,o.useEffect)(()=>{"template"===S&&0===T.length&&F()},[S,F,T.length]);let q=e=>e?e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):"Template",O=e=>{e.preventDefault(),I(!0)},V=()=>{I(!1)},$=e=>{let t="image/avif"===e.type,a=e.name.toLowerCase().endsWith(".avif");return t||a},W=e=>{e.preventDefault(),I(!1);let t=e.dataTransfer.files[0];if(t&&t.type.startsWith("image/")){if($(t)){h.Am.error("AVIF files are not supported. Please use PNG, JPG, or WebP.");return}i(t)}},z=e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(a){if($(a)){h.Am.error("AVIF files are not supported. Please use PNG, JPG, or WebP."),e.target.value="";return}i(a)}},J=()=>{var e;null===(e=Z.current)||void 0===e||e.click()},X=()=>{R.trim()&&(x(R.trim()),A(""))},Y=b?URL.createObjectURL(b):f,K=!D&&!Y;return(0,r.jsxs)("div",{className:"light"===w?"space-y-1.5":"space-y-2",children:[(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-bold ".concat(v?"light"===w?"text-sm":"text-base":"text-xs"," ").concat(M.label),children:t}),(0,r.jsx)("p",{className:"".concat("light"===w?"text-[10px]":"text-xs"," ").concat(M.description),children:a})]})}),(0,r.jsxs)("div",{className:"flex ".concat("light"===w?"gap-1.5 p-0.5":"gap-2 p-1"," ").concat(M.tabBg," rounded-lg border ").concat(M.tabBorder),children:[(0,r.jsxs)("button",{onClick:()=>L("upload"),className:"flex-1 ".concat("light"===w?"py-1 px-2":"py-1.5 px-3"," rounded-md font-medium text-xs transition-all ").concat("upload"===S?M.tabActive:M.tabInactive),children:[(0,r.jsx)(l,{className:"w-3 h-3 inline mr-1"}),"Upload"]}),(0,r.jsxs)("button",{onClick:()=>L("url"),className:"flex-1 ".concat("light"===w?"py-1 px-2":"py-1.5 px-3"," rounded-md font-medium text-xs transition-all ").concat("url"===S?M.tabActive:M.tabInactive),children:[(0,r.jsx)(n,{className:"w-3 h-3 inline mr-1"}),"URL"]}),j&&(0,r.jsxs)("button",{onClick:()=>L("template"),className:"flex-1 ".concat("light"===w?"py-1 px-2":"py-1.5 px-3"," rounded-md font-medium text-xs transition-all ").concat("template"===S?M.tabActive:M.tabInactive),children:[(0,r.jsx)(s.Z,{className:"w-3 h-3 inline mr-1"}),"Template"]})]}),(0,r.jsx)(p.M,{mode:"wait",children:"upload"===S?(0,r.jsxs)(g.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},onDragOver:O,onDragLeave:V,onDrop:W,onClick:K?J:void 0,className:"\n              relative border-2 border-dashed rounded-xl overflow-hidden\n              transition-all\n              ".concat(P?M.uploadBorderActive:"".concat(M.uploadBorder," ").concat(M.uploadBg),"\n              ").concat(K&&"".concat(M.uploadBorderHover," cursor-pointer"),"\n            "),children:[(0,r.jsx)("input",{ref:Z,type:"file",accept:"image/png,image/jpeg,image/jpg,image/gif,image/webp,image/bmp,image/svg+xml",onChange:z,className:"hidden"}),(0,r.jsx)(p.M,{mode:"wait",children:D?(0,r.jsx)(g.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"p-2",children:(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[B.map((e,t)=>(0,r.jsxs)("div",{className:"relative aspect-square rounded-lg overflow-hidden border ".concat(M.imageBorder," group"),children:[(0,r.jsx)("img",{src:URL.createObjectURL(e),alt:"Product ".concat(t),className:"w-full h-full object-cover"}),(0,r.jsx)(g.E.button,{onClick:e=>{e.stopPropagation(),null==C||C(t)},className:"absolute top-1 right-1 p-1 ".concat(M.imageRemoveBg," border ").concat(M.imageRemoveBorder," rounded-full shadow-lg hover:bg-red-600 transition-colors opacity-0 group-hover:opacity-100"),whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,r.jsx)(c.Z,{className:"w-3 h-3 text-white"})})]},"file-".concat(t))),E.map((e,t)=>(0,r.jsxs)("div",{className:"relative aspect-square rounded-lg overflow-hidden border ".concat(M.imageBorder," group"),children:[(0,r.jsx)("img",{src:e,alt:"Product URL ".concat(t),className:"w-full h-full object-cover"}),(0,r.jsx)(g.E.button,{onClick:e=>{e.stopPropagation(),null==_||_(t)},className:"absolute top-1 right-1 p-1 ".concat(M.imageRemoveBg," border ").concat(M.imageRemoveBorder," rounded-full shadow-lg hover:bg-red-600 transition-colors opacity-0 group-hover:opacity-100"),whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,r.jsx)(c.Z,{className:"w-3 h-3 text-white"})})]},"url-".concat(t))),(0,r.jsxs)(g.E.div,{onClick:J,className:"aspect-square rounded-lg border-2 border-dashed ".concat(M.addMoreBorder," ").concat(M.addMoreHover," ").concat(M.addMoreBg," flex flex-col items-center justify-center cursor-pointer transition-all"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,r.jsx)(l,{className:"w-6 h-6 ".concat(M.addMoreIcon," mb-1")}),(0,r.jsx)("p",{className:"text-[10px] ".concat(M.textMuted),children:"Add more"})]})]})},"multiple"):Y?(0,r.jsxs)(g.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"relative w-full h-full",children:[(0,r.jsx)("img",{src:Y,alt:"Preview",className:"w-full h-full object-cover"}),(0,r.jsx)(g.E.button,{onClick:e=>{e.stopPropagation(),y()},className:"absolute top-2 right-2 p-1.5 ".concat(M.imageRemoveBg," border ").concat(M.imageRemoveBorder," rounded-full shadow-lg hover:bg-gray-800 transition-colors"),whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,r.jsx)(c.Z,{className:"w-3 h-3 text-white"})})]},"preview"):(0,r.jsxs)(g.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center justify-center h-full p-4 text-center",children:[(0,r.jsx)(g.E.div,{animate:P?{scale:1.1}:{scale:1},transition:{type:"spring",stiffness:300},children:v?(0,r.jsx)(d.Z,{className:"w-8 h-8 ".concat(M.iconPrimary," mb-2")}):(0,r.jsx)(l,{className:"w-7 h-7 ".concat(M.iconSecondary," mb-2")})}),(0,r.jsx)("p",{className:"text-xs font-bold ".concat(M.text," mb-0.5"),children:P?"Drop it here!":"Click or drag to upload"}),(0,r.jsx)("p",{className:"text-[10px] ".concat(M.textMuted),children:"PNG, JPG, WebP up to 10MB (No AVIF)"})]},"empty")})]},"upload"):"url"===S?(0,r.jsxs)(g.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"space-y-2",children:[(0,r.jsxs)("div",{className:"light"===w?"flex gap-1.5":"flex gap-2",children:[(0,r.jsx)("input",{type:"url",value:R,onChange:e=>A(e.target.value),onKeyDown:e=>"Enter"===e.key&&X(),placeholder:"https://example.com/image.jpg",className:"flex-1 ".concat("light"===w?"px-2.5 py-1.5 text-xs":"px-3 py-2 text-sm"," border ").concat(M.inputBorder," ").concat(M.inputBg," rounded-xl focus:border-pink-500 focus:outline-none transition-colors ").concat(M.inputText," ").concat(M.inputPlaceholder)}),(0,r.jsx)("button",{onClick:X,disabled:!R.trim(),className:"".concat("light"===w?"px-3 py-1.5 text-xs":"px-4 py-2 text-sm"," ").concat(M.buttonGradient," ").concat(M.buttonText," rounded-xl font-bold hover:shadow-lg ").concat(M.buttonShadow," disabled:").concat(M.buttonDisabled," transition-all"),children:"Load"})]}),(0,r.jsx)("p",{className:"text-[10px] ".concat(M.textMuted),children:"Paste a direct link to an image"}),D&&(0,r.jsx)("div",{className:"grid grid-cols-2 gap-2 mt-2",children:E.map((e,t)=>(0,r.jsxs)("div",{className:"relative aspect-square rounded-lg overflow-hidden border ".concat(M.imageBorder," group"),children:[(0,r.jsx)("img",{src:e,alt:"Product URL ".concat(t),className:"w-full h-full object-cover"}),(0,r.jsx)(g.E.button,{onClick:e=>{e.stopPropagation(),null==_||_(t)},className:"absolute top-1 right-1 p-1 ".concat(M.imageRemoveBg," border ").concat(M.imageRemoveBorder," rounded-full shadow-lg hover:bg-red-600 transition-colors opacity-0 group-hover:opacity-100"),whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,r.jsx)(c.Z,{className:"w-3 h-3 text-white"})})]},"url-".concat(t)))}),!D&&Y&&(0,r.jsxs)("div",{className:"relative aspect-video border-2 ".concat(M.uploadBorder," rounded-xl overflow-hidden"),children:[(0,r.jsx)("img",{src:Y,alt:"Preview",className:"w-full h-full object-cover"}),(0,r.jsx)(g.E.button,{onClick:y,className:"absolute top-2 right-2 p-1.5 ".concat(M.imageRemoveBg," border ").concat(M.imageRemoveBorder," rounded-full shadow-lg hover:bg-gray-800 transition-colors"),whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,r.jsx)(c.Z,{className:"w-3 h-3 text-white"})})]})]},"url"):(0,r.jsx)(g.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"light"===w?"space-y-1.5":"space-y-2",children:G?(0,r.jsx)("div",{className:"flex items-center justify-center ".concat("light"===w?"py-8":"py-12"," border-2 border-dashed rounded-xl"),children:(0,r.jsx)("p",{className:"text-sm ".concat(M.textMuted," animate-pulse"),children:"Loading templates..."})}):T.length>0?(0,r.jsx)("div",{className:"grid grid-cols-2 ".concat("light"===w?"gap-1.5 max-h-[240px]":"gap-2 max-h-[300px]"," overflow-y-auto p-1"),children:T.map((e,t)=>(0,r.jsxs)(g.E.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.05*t},onClick:()=>null==k?void 0:k(e._id.$oid),className:"\n                      relative rounded-lg overflow-hidden border-2 transition-all text-left\n                      ".concat(N===e._id.$oid?"border-blue-500 shadow-lg shadow-blue-500/20":"".concat(M.imageBorder," hover:border-blue-300 shadow-sm"),"\n                    "),whileHover:{y:-2},whileTap:{scale:.98},children:[(0,r.jsx)("div",{className:"aspect-square",children:(0,r.jsx)("img",{src:e.compressed_image_url||e.image_url,alt:e.product_name||"Template",className:"w-full h-full object-cover"})}),(0,r.jsx)("div",{className:"p-1 px-2 ".concat(M.imageRemoveBg," absolute bottom-1 left-1 right-1 rounded-full"),children:(0,r.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,r.jsx)("div",{className:"flex-1 min-w-0",children:(0,r.jsx)("h4",{className:"font-semibold text-xs ".concat("dark"===w?"text-gray-200":"text-gray-700"," truncate"),children:q(e.image_type)})}),N===e._id.$oid&&(0,r.jsx)(g.E.div,{initial:{scale:0},animate:{scale:1},className:"flex-shrink-0 w-5 h-5 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center",children:(0,r.jsx)(s.Z,{className:"w-3 h-3 text-white"})})]})})]},e._id.$oid))}):(0,r.jsx)("div",{className:"".concat("light"===w?"p-6":"p-8"," border-2 border-dashed rounded-xl text-center"),children:(0,r.jsx)("p",{className:"".concat("light"===w?"text-xs":"text-sm"," ").concat(M.textMuted),children:"Mark some images as templates to use them here"})})},"template")})]})}var b=a(87536),f=a(56312),y=a(92106),v=a(8971),w=a(49461),j=a(16414),k=a(11163);let N={dark:{bg:"bg-black",text:"text-white",textSecondary:"text-gray-400",border:"border-gray-700",placeholder:"placeholder-gray-600",inputBg:"bg-gray-900/30",divider:"border-gray-800/50",label:"text-gray-400",buttonGradient:"bg-gradient-to-r from-[#4E47FF] to-[#5c58ea]",buttonShadow:"shadow-2xl shadow-[#4E47FF]/80",buttonDisabled:"bg-gray-800 text-gray-600",aspectButtonActive:"bg-gradient-to-br from-pink-500 to-purple-600 text-white shadow-lg shadow-pink-500/30",aspectButtonInactive:"bg-gray-800/50 border border-gray-700 text-gray-400 hover:border-pink-500/50 hover:text-white",wearableButtonActive:"bg-gradient-to-br from-fuchsia-500 to-purple-600 text-white shadow-lg shadow-fuchsia-500/30",wearableButtonInactive:"bg-gray-800/50 border border-gray-700 text-gray-400 hover:border-fuchsia-500/50 hover:text-white",modelButtonActive:"bg-gradient-to-br from-pink-500 to-fuchsia-600 text-white shadow-lg shadow-pink-500/30",modelButtonInactive:"bg-gray-800/50 border border-gray-700 text-gray-400 hover:border-pink-500/50 hover:text-white",advancedBg:"bg-gray-800/30 border-gray-800 hover:border-gray-700",advancedIcon:"text-gray-500",error:"text-red-500"},light:{bg:"bg-white",text:"text-gray-900",textSecondary:"text-gray-600",border:"border-gray-300",placeholder:"placeholder-gray-400",inputBg:"bg-white",divider:"border-gray-200",label:"text-gray-700",buttonGradient:"bg-gradient-to-br from-pink-500 to-purple-600",buttonShadow:"shadow-xl shadow-blue-600/30",buttonDisabled:"bg-gray-300 text-gray-500",aspectButtonActive:"bg-gradient-to-br from-pink-500 to-purple-600 text-white shadow-lg shadow-pink-500/30",aspectButtonInactive:"bg-gray-100 border border-gray-300 text-gray-600 hover:border-pink-500/50 hover:text-gray-900",wearableButtonActive:"bg-gradient-to-br from-purple-500 to-purple-600 text-white shadow-lg shadow-purple-500/20",wearableButtonInactive:"bg-gray-100 border border-gray-300 text-gray-600 hover:border-purple-400 hover:text-gray-900",modelButtonActive:"bg-gradient-to-br from-pink-500 to-pink-600 text-white shadow-lg shadow-pink-500/20",modelButtonInactive:"bg-gray-100 border border-gray-300 text-gray-600 hover:border-pink-400 hover:text-gray-900",advancedBg:"bg-gray-50 border-gray-200 hover:border-gray-300",advancedIcon:"text-gray-400",error:"text-red-600"}},B=y.Ry({instruction:y.Z_().default(""),aspect_ratio:y.Z_().default("1:1"),wearable:y.Z_().optional(),sex:y.Z_().optional(),model:y.Z_().optional(),generate_templates:y.O7().optional()}),E=e=>{let{setLoading:t,userId:a,theme:i="dark",imageGenerationResultHandler:l,showTemplate:n}=e,c=N[i]||N.dark,[d,m]=(0,o.useState)(!1),[y,E]=(0,o.useState)([]),[C,_]=(0,o.useState)([]),[M,P]=(0,o.useState)(null),[I,S]=(0,o.useState)(""),[L,R]=(0,o.useState)(""),A=(0,k.useRouter)(),Z=(0,b.cI)({resolver:(0,f.F)(B),defaultValues:{instruction:"",aspect_ratio:"1:1",wearable:"no",sex:"female",model:"gemini-2.5-flash-image",generate_templates:!0}}),T=()=>m(!1),H=async e=>{var t;let a=null==e?void 0:null===(t=e.profile)||void 0===t?void 0:t._id;if(!a){console.error("User ID not found");return}m(!1),K(a)},G=e=>{E(t=>[...t,e])},U=e=>{C.includes(e)||_(t=>[...t,e])},D=e=>{E(t=>t.filter((t,a)=>a!==e))},F=e=>{_(t=>t.filter((t,a)=>a!==e))},q=e=>{P(e),S(""),R("")},O=e=>{S(e),P(null),R("")},V=e=>{R(e),P(null),S("")},$=()=>{P(null),S(""),R("")},[W,z]=(0,o.useState)(!1),J=Z.watch("aspect_ratio"),X="yes"===Z.watch("wearable"),Y=Z.watch("sex"),K=async e=>{var a,r,o,i;let n=Z.getValues();t(!0);try{let o=new FormData;o.append("user_id",e),n.instruction&&o.append("image_instruction",n.instruction),o.append("aspect_ratio",n.aspect_ratio),n.wearable&&o.append("wearable",n.wearable),n.sex&&o.append("sex",n.sex),n.model&&o.append("model",n.model),void 0!==n.generate_templates&&o.append("generate_templates",n.generate_templates.toString()),L&&o.append("reference_image_id",L),y.forEach(e=>{o.append("product_images",e)}),C.length>0&&o.append("product_image_urls",JSON.stringify(C)),M&&o.append("reference_image",M),I&&o.append("reference_image_url",I);let i=await u.Z.post("/v2/image/generate-product",o,{headers:{"Content-Type":"multipart/form-data"}});if((null==i?void 0:null===(a=i.data)||void 0===a?void 0:a.success)&&(null==i?void 0:null===(r=i.data)||void 0===r?void 0:r.images)){let e=i.data.images.map(e=>e._id.$oid);if(l){l(i.data.images);return}A.push({pathname:"/dashboard/images",query:{generated_images:JSON.stringify(e)}})}else h.Am.error("Failed to generate images. Please try again."),t(!1)}catch(e){console.error("Error generating images:",e),h.Am.error((null==e?void 0:null===(o=e.response)||void 0===o?void 0:null===(i=o.data)||void 0===i?void 0:i.message)||"Something went wrong during generation."),t(!1)}},Q=async()=>{let e=await Z.trigger();if(!e){h.Am.error("Please fill in all required fields");return}let t=y.length>0||C.length>0;if(!t&&!(M||I)){h.Am.error("Please add at least one product image or reference image");return}if(a){K(a);return}m(!0)},ee=y.length>0||C.length>0;return(0,r.jsxs)(r.Fragment,{children:[!a&&(0,r.jsx)(j.Z,{show:d,handleClose:T,mode:"register",websiteId:"",afterLogin:H}),(0,r.jsxs)("div",{className:"light"===i?"space-y-4":"space-y-6",children:[(0,r.jsxs)("div",{className:"light"===i?"grid grid-cols-2 gap-3":"grid grid-cols-2 gap-4",children:[(0,r.jsx)("div",{className:"col-span-2 md:col-span-1",children:(0,r.jsx)(x,{label:"Product Images",description:"Required (can add multiple)",onImageUpload:G,onUrlSubmit:U,image:null,imageUrl:"",onRemove:()=>{},isPrimary:!0,multipleFiles:y,multipleUrls:C,onRemoveFile:D,onRemoveUrl:F,theme:i})}),(0,r.jsx)("div",{className:"col-span-2 md:col-span-1",children:(0,r.jsx)(x,{label:"Reference (Optional)",description:"Style inspiration",onImageUpload:q,onUrlSubmit:O,image:M,imageUrl:I,onRemove:$,theme:i,showTemplate:n,onTemplateSelect:V,selectedTemplateId:L})})]}),(0,r.jsx)("div",{className:"border-t ".concat(c.divider)}),(0,r.jsxs)("div",{className:"light"===i?"space-y-4":"space-y-6",children:[(0,r.jsxs)("div",{className:"light"===i?"space-y-1":"space-y-2",children:[(0,r.jsx)("label",{className:"block text-xs font-medium ".concat(c.label," uppercase tracking-wide"),children:"Custom Prompt (Optional)"}),(0,r.jsx)("textarea",{...Z.register("instruction"),placeholder:"Describe your vision: lighting, mood, background, style...",className:"w-full ".concat("light"===i?"px-3 py-2":"px-4 py-3"," border ").concat(c.border," ").concat(c.inputBg," rounded-xl focus:border-pink-500 focus:outline-none resize-none transition-all backdrop-blur-sm text-sm ").concat(c.text," ").concat(c.placeholder),rows:2})]}),(0,r.jsx)("div",{className:"light"===i?"flex gap-3":"flex gap-4",children:(0,r.jsxs)("div",{className:"light"===i?"flex-1 space-y-1":"flex-1 space-y-2",children:[(0,r.jsx)("label",{className:"block text-xs font-medium ".concat(c.label," uppercase tracking-wide"),children:"Aspect Ratio"}),(0,r.jsx)("div",{className:"flex gap-2",children:[{value:"1:1",label:"Square"},{value:"4:5",label:"Portrait"},{value:"16:9",label:"Wide"}].map(e=>(0,r.jsx)(g.E.button,{type:"button",onClick:()=>Z.setValue("aspect_ratio",e.value),className:"\n                  flex-1 ".concat("light"===i?"py-2 px-2":"py-2.5 px-3"," rounded-xl font-semibold text-sm transition-all\n                  ").concat(J===e.value?c.aspectButtonActive:c.aspectButtonInactive,"\n                "),whileHover:{scale:1.02},whileTap:{scale:.98},children:e.label},e.value))})]})}),(0,r.jsxs)("button",{onClick:()=>z(!W),className:"w-full flex items-center justify-between ".concat("light"===i?"py-2 px-3":"py-3 px-4"," rounded-xl ").concat(c.advancedBg," border transition-all text-left group"),children:[(0,r.jsx)("span",{className:"text-sm font-medium ".concat(c.textSecondary," group-hover:").concat(c.text," transition-colors"),children:"Advanced options"}),(0,r.jsx)(g.E.div,{animate:{rotate:W?180:0},transition:{duration:.2},children:(0,r.jsx)(v.Z,{className:"w-4 h-4 ".concat(c.advancedIcon)})})]}),(0,r.jsx)(p.M,{children:W&&(0,r.jsx)(g.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"space-y-4 overflow-hidden",children:(0,r.jsxs)("div",{className:"light"===i?"flex gap-3":"flex gap-4",children:[(0,r.jsxs)("div",{className:"light"===i?"flex-1 space-y-1":"flex-1 space-y-2",children:[(0,r.jsx)("label",{className:"block text-xs font-medium ".concat(c.label," uppercase tracking-wide"),children:"Wearable?"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(g.E.button,{type:"button",onClick:()=>Z.setValue("wearable","yes"),className:"\n                      flex-1 ".concat("light"===i?"py-2 px-3":"py-2.5 px-4"," rounded-xl font-semibold text-sm transition-all\n                      ").concat(X?c.wearableButtonActive:c.wearableButtonInactive,"\n                    "),whileHover:{scale:1.02},whileTap:{scale:.98},children:"Yes"}),(0,r.jsx)(g.E.button,{type:"button",onClick:()=>Z.setValue("wearable","no"),className:"\n                      flex-1 ".concat("light"===i?"py-2 px-3":"py-2.5 px-4"," rounded-xl font-semibold text-sm transition-all\n                      ").concat(X?c.wearableButtonInactive:c.wearableButtonActive,"\n                    "),whileHover:{scale:1.02},whileTap:{scale:.98},children:"No"})]})]}),X&&(0,r.jsxs)(g.E.div,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},className:"light"===i?"flex-1 space-y-1":"flex-1 space-y-2",children:[(0,r.jsx)("label",{className:"block text-xs font-medium ".concat(c.label," uppercase tracking-wide"),children:"Model"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(g.E.button,{type:"button",onClick:()=>Z.setValue("sex","male"),className:"\n                        flex-1 ".concat("light"===i?"py-2 px-3":"py-2.5 px-4"," rounded-xl font-semibold text-sm transition-all\n                        ").concat("male"===Y?c.modelButtonActive:c.modelButtonInactive,"\n                      "),whileHover:{scale:1.02},whileTap:{scale:.98},children:"Male"}),(0,r.jsx)(g.E.button,{type:"button",onClick:()=>Z.setValue("sex","female"),className:"\n                        flex-1 ".concat("light"===i?"py-2 px-3":"py-2.5 px-4"," rounded-xl font-semibold text-sm transition-all\n                        ").concat("female"===Y?c.modelButtonActive:c.modelButtonInactive,"\n                      "),whileHover:{scale:1.02},whileTap:{scale:.98},children:"Female"})]})]})]})})}),(0,r.jsxs)("div",{className:"light"===i?"pt-3":"pt-4",children:[(0,r.jsxs)(g.E.button,{type:"button",onClick:Q,disabled:!ee,className:"\n            relative w-full ".concat("light"===i?"py-3 px-6":"py-4 px-8"," rounded-2xl font-black ").concat("light"===i?"text-lg":"text-xl","\n            flex items-center justify-center ").concat("light"===i?"gap-3":"gap-4","\n            transition-all overflow-hidden group\n            ").concat(ee?"".concat(c.buttonGradient," text-white ").concat(c.buttonShadow):"".concat(c.buttonDisabled," cursor-not-allowed"),"\n          "),whileHover:ee?{scale:1.03,y:-4}:{},whileTap:ee?{scale:.97}:{},animate:ee?{boxShadow:["0 20px 60px -15px rgba(99, 102, 241, 0.7)","0 25px 70px -15px rgba(168, 85, 247, 0.9)","0 20px 60px -15px rgba(99, 102, 241, 0.7)"]}:{},transition:{boxShadow:{duration:2,repeat:1/0,ease:"easeInOut"}},children:[ee&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.E.div,{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/60 to-white/0",animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,ease:"linear"}}),(0,r.jsx)(g.E.div,{className:"absolute inset-0 rounded-2xl",animate:{boxShadow:["0 0 25px rgba(251, 146, 60, 0.8)","0 0 50px rgba(251, 146, 60, 1)","0 0 25px rgba(251, 146, 60, 0.8)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})]}),(0,r.jsx)(g.E.div,{animate:ee?{rotate:[0,360]}:{},transition:{duration:3,repeat:1/0,ease:"linear"},children:(0,r.jsx)(s.Z,{className:"light"===i?"w-6 h-6":"w-7 h-7"})}),(0,r.jsxs)("span",{className:"relative flex items-center ".concat("light"===i?"gap-2":"gap-3"),children:["Generate Images",(0,r.jsx)(g.E.div,{animate:ee?{x:[0,5,0]}:{},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:(0,r.jsx)(w.Z,{className:"light"===i?"w-5 h-5":"w-6 h-6"})})]})]}),ee&&(0,r.jsx)(g.E.p,{initial:{opacity:0},animate:{opacity:1},className:"text-center text-xs ".concat(c.textSecondary," mt-3"),children:"Takes ~10 seconds • No credit card required"})]})]})]})]})};var C=E},95802:function(e,t,a){a.d(t,{G:function(){return c}});var r=a(85893),o=a(67294),i=a(39200);let l={dark:{gradient:{start:"#6366f1",middle:"#a855f7",end:"#ec4899"},sparkles:{color1:"#ec4899",color2:"#a855f7",color3:"#6366f1"},landscape:"text-gray-800",dropShadow:"drop-shadow-[0_0_15px_rgba(168,85,247,0.5)]"},light:{gradient:{start:"#3b82f6",middle:"#8b5cf6",end:"#6366f1"},sparkles:{color1:"#3b82f6",color2:"#8b5cf6",color3:"#6366f1"},landscape:"text-gray-300",dropShadow:"drop-shadow-[0_0_15px_rgba(59,130,246,0.4)]"}},n=e=>{let{theme:t="dark"}=e,a=l[t]||l.dark;return(0,r.jsxs)("div",{className:"relative w-32 h-32 md:w-48 md:h-48 ",children:[(0,r.jsx)("style",{children:"\n            @keyframes shimmer {\n              0% { stop-opacity: 0.1; }\n              50% { stop-opacity: 0.6; }\n              100% { stop-opacity: 0.1; }\n            }\n            \n            @keyframes scan {\n              0% { transform: translateX(-100%); }\n              100% { transform: translateX(100%); }\n            }\n\n            @keyframes float {\n              0%, 100% { transform: translateY(0px) scale(1); opacity: 1; }\n              50% { transform: translateY(-4px) scale(0.8); opacity: 0.7; }\n            }\n\n            @keyframes draw {\n              0% { stroke-dashoffset: 300; }\n              100% { stroke-dashoffset: 0; }\n            }\n\n            @keyframes sparkle {\n              0%, 100% { transform: scale(0) rotate(0deg); opacity: 0; }\n              50% { transform: scale(1) rotate(45deg); opacity: 1; }\n            }\n            \n            .animate-sparkle-1 { animation: sparkle 2s infinite ease-in-out; }\n            .animate-sparkle-2 { animation: sparkle 2s infinite ease-in-out 0.5s; }\n            .animate-sparkle-3 { animation: sparkle 2s infinite ease-in-out 1s; }\n            .animate-scan-line { animation: scan 2s linear infinite; }\n          "}),(0,r.jsxs)("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full ".concat(a.dropShadow),children:[(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",{id:"magicGradient-".concat(t),x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,r.jsx)("stop",{offset:"0%",stopColor:a.gradient.start}),(0,r.jsx)("stop",{offset:"50%",stopColor:a.gradient.middle}),(0,r.jsx)("stop",{offset:"100%",stopColor:a.gradient.end})]}),(0,r.jsx)("clipPath",{id:"frameClip",children:(0,r.jsx)("rect",{x:"10",y:"10",width:"80",height:"80",rx:"8"})})]}),(0,r.jsx)("rect",{x:"10",y:"10",width:"80",height:"80",rx:"8",stroke:"url(#magicGradient-".concat(t,")"),strokeWidth:"3",strokeLinecap:"round",strokeDasharray:"300",className:"opacity-50",style:{animation:"draw 3s ease-out forwards"}}),(0,r.jsx)("path",{d:"M10 70 L35 45 L55 65 L75 35 L90 58 V82 C90 86.4 86.4 90 82 90 H18 C13.6 90 10 86.4 10 82 V70Z",fill:"currentColor",className:a.landscape,clipPath:"url(#frameClip)"}),(0,r.jsxs)("g",{clipPath:"url(#frameClip)",children:[(0,r.jsx)("rect",{x:"0",y:"0",width:"30",height:"100",fill:"url(#magicGradient-".concat(t,")"),className:"animate-scan-line opacity-30 blur-md",style:{transformBox:"fill-box"}}),(0,r.jsx)("line",{x1:"15",y1:"0",x2:"15",y2:"100",stroke:"url(#magicGradient-".concat(t,")"),strokeWidth:"2",className:"animate-scan-line",style:{transformBox:"fill-box"}})]}),(0,r.jsxs)("g",{className:"origin-center",children:[(0,r.jsx)("path",{d:"M90 10 L92 14 L96 16 L92 18 L90 22 L88 18 L84 16 L88 14 Z",fill:a.sparkles.color1,className:"animate-sparkle-1 origin-center"}),(0,r.jsx)("path",{d:"M5 85 L6 87 L8 88 L6 89 L5 91 L4 89 L2 88 L4 87 Z",fill:a.sparkles.color2,className:"animate-sparkle-2 origin-center"}),(0,r.jsx)("path",{d:"M15 5 L17 9 L21 11 L17 13 L15 17 L13 13 L9 11 L13 9 Z",fill:a.sparkles.color3,className:"animate-sparkle-3 origin-center"})]}),(0,r.jsx)("circle",{cx:"30",cy:"30",r:"6",fill:"url(#magicGradient-".concat(t,")"),className:"animate-pulse"})]})]})},s={dark:{containerBg:"bg-black/20",title:"text-white",subtitle:"text-gray-400",message:"text-gray-400",progressBg:"bg-gray-700"},light:{containerBg:"",title:"text-gray-900",subtitle:"text-gray-600",message:"text-gray-600",progressBg:"bg-gray-200"}};function c(e){let{theme:t="dark"}=e,a=s[t]||s.dark,[l,c]=(0,o.useState)(0),[d,p]=(0,o.useState)("");return(0,o.useEffect)(()=>{let e=setInterval(()=>{c(t=>t>=100?(clearInterval(e),100):t+.25)},100),t=setInterval(()=>{p(["Sprinkling AI dust...","Adjusting the lighting...","Adding that chef's kiss...","Perfecting the composition...","Enhancing the colors...","Polishing the details...","Creating studio magic...","Crafting your masterpiece...","Fine-tuning the aesthetics...","Applying professional touches...","Optimizing the scene...","Bringing your vision to life..."][Math.floor(12*Math.random())])},1500);return()=>{clearInterval(e),clearInterval(t)}},[]),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-24 ".concat(a.containerBg," rounded-xl backdrop-blur-xl h-[70vh]"),children:[(0,r.jsx)(n,{theme:t}),(0,r.jsx)(i.E.h3,{className:"text-2xl font-bold ".concat(a.title," my-3"),animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},children:"Creating magic... ✨"}),(0,r.jsx)("p",{className:"".concat(a.subtitle," mb-2 font-bold"),children:"This takes about 30 seconds!"}),(0,r.jsxs)("div",{className:"w-full max-w-md mt-6 mb-4",children:[(0,r.jsxs)("div",{className:"relative h-3 ".concat(a.progressBg," rounded-full overflow-hidden"),children:[(0,r.jsx)(i.E.div,{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500 rounded-full",initial:{width:"0%"},animate:{width:"".concat(l,"%")},transition:{duration:.1}}),(0,r.jsx)(i.E.div,{className:"absolute top-0 left-0 h-full w-full bg-gradient-to-r from-transparent via-white/30 to-transparent",animate:{x:["-100%","200%"]},transition:{duration:1.5,repeat:1/0,ease:"linear"}})]}),(0,r.jsxs)("p",{className:"text-center text-sm mt-2 ".concat(a.subtitle),children:[Math.round(l),"% complete"]})]}),(0,r.jsx)(i.E.div,{className:"text-center",initial:{opacity:0},animate:{opacity:1},transition:{delay:2},children:(0,r.jsx)("p",{className:"".concat(a.message," font-medium"),children:d})})]})}},13114:function(e,t,a){a.d(t,{M:function(){return f}});var r=a(85893),o=a(67294),i=a(25364),l=a(96681),n=a(58868),s=a(240),c=a(93243),d=a(16014);class p extends o.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,a=(0,c.R)(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=a-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function g({children:e,isPresent:t,anchorX:a,root:i}){let l=(0,o.useId)(),n=(0,o.useRef)(null),s=(0,o.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,o.useContext)(d._);return(0,o.useInsertionEffect)(()=>{let{width:e,height:r,top:o,left:d,right:p}=s.current;if(t||!n.current||!e||!r)return;let g="left"===a?`left: ${d}`:`right: ${p}`;n.current.dataset.motionPopId=l;let u=document.createElement("style");c&&(u.nonce=c);let h=i??document.head;return h.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${r}px !important;
            ${g}px !important;
            top: ${o}px !important;
          }
        `),()=>{h.removeChild(u),h.contains(u)&&h.removeChild(u)}},[t]),(0,r.jsx)(p,{isPresent:t,childRef:n,sizeRef:s,children:o.cloneElement(e,{ref:n})})}let u=({children:e,initial:t,isPresent:a,onExitComplete:i,custom:n,presenceAffectsLayout:c,mode:d,anchorX:p,root:u})=>{let m=(0,l.h)(h),x=(0,o.useId)(),b=!0,f=(0,o.useMemo)(()=>(b=!1,{id:x,initial:t,isPresent:a,custom:n,onExitComplete:e=>{for(let t of(m.set(e,!0),m.values()))if(!t)return;i&&i()},register:e=>(m.set(e,!1),()=>m.delete(e))}),[a,m,i]);return c&&b&&(f={...f}),(0,o.useMemo)(()=>{m.forEach((e,t)=>m.set(t,!1))},[a]),o.useEffect(()=>{a||m.size||!i||i()},[a]),"popLayout"===d&&(e=(0,r.jsx)(g,{isPresent:a,anchorX:p,root:u,children:e})),(0,r.jsx)(s.O.Provider,{value:f,children:e})};function h(){return new Map}var m=a(15947);let x=e=>e.key||"";function b(e){let t=[];return o.Children.forEach(e,e=>{(0,o.isValidElement)(e)&&t.push(e)}),t}let f=({children:e,custom:t,initial:a=!0,onExitComplete:s,presenceAffectsLayout:c=!0,mode:d="sync",propagate:p=!1,anchorX:g="left",root:h})=>{let[f,y]=(0,m.oO)(p),v=(0,o.useMemo)(()=>b(e),[e]),w=p&&!f?[]:v.map(x),j=(0,o.useRef)(!0),k=(0,o.useRef)(v),N=(0,l.h)(()=>new Map),[B,E]=(0,o.useState)(v),[C,_]=(0,o.useState)(v);(0,n.L)(()=>{j.current=!1,k.current=v;for(let e=0;e<C.length;e++){let t=x(C[e]);w.includes(t)?N.delete(t):!0!==N.get(t)&&N.set(t,!1)}},[C,w.length,w.join("-")]);let M=[];if(v!==B){let e=[...v];for(let t=0;t<C.length;t++){let a=C[t],r=x(a);w.includes(r)||(e.splice(t,0,a),M.push(a))}return"wait"===d&&M.length&&(e=M),_(b(e)),E(v),null}let{forceRender:P}=(0,o.useContext)(i.p);return(0,r.jsx)(r.Fragment,{children:C.map(e=>{let o=x(e),i=(!p||!!f)&&(v===C||w.includes(o)),l=()=>{if(!N.has(o))return;N.set(o,!0);let e=!0;N.forEach(t=>{t||(e=!1)}),e&&(P?.(),_(k.current),p&&y?.(),s&&s())};return(0,r.jsx)(u,{isPresent:i,initial:(!j.current||!!a)&&void 0,custom:t,presenceAffectsLayout:c,mode:d,root:h,onExitComplete:i?void 0:l,anchorX:g,children:e},o)})})}}}]);